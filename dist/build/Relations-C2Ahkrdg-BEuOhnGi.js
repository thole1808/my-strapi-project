import{hg as be,hh as ae,r as T,hi as _e,dg as Re,ds as xe,u as Z,aK as fe,dp as pe,cu as ne,bI as X,dr as se,ax as Ce,j as p,F as U,cy as Te,fm as E,Z as we,d as V,h as Me,hj as Oe,U as Y,bJ as Le,bK as De,T as ge,dx as ve,dA as Ie,V as re,ac as ze,B as K,I as le,fI as Fe,bU as Ee,a6 as Pe,ct as je,b as ke}from"./strapi-CHRtS7bY.js";import{u as $e,I as Ae,D as Ne}from"./useDragAndDrop-DJ6jqvZN-DxbWcvHZ.js";import{u as We,g as oe,a as Ue}from"./relations-BakOFl_1-Uzpr5SCD.js";import{g as He}from"./getEmptyImage-CjqolaH3.js";var ce=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function qe(n,t){return!!(n===t||ce(n)&&ce(t))}function Be(n,t){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(!qe(n[o],t[o]))return!1;return!0}function ee(n,t){t===void 0&&(t=Be);var o,r=[],u,S=!1;function y(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];return S&&o===this&&t(b,r)||(u=n.apply(this,b),S=!0,o=this,r=b),u}return y}var Ke=typeof performance=="object"&&typeof performance.now=="function",de=Ke?function(){return performance.now()}:function(){return Date.now()};function ue(n){cancelAnimationFrame(n.id)}function Ve(n,t){var o=de();function r(){de()-o>=t?n.call(null):u.id=requestAnimationFrame(r)}var u={id:requestAnimationFrame(r)};return u}var te=-1;function he(n){if(n===void 0&&(n=!1),te===-1||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),te=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return te}var W=null;function me(n){if(n===void 0&&(n=!1),W===null||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var r=document.createElement("div"),u=r.style;return u.width="100px",u.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?W="negative":W="positive-ascending"),document.body.removeChild(t),W}return W}var Ge=150,Ye=function(t,o){return t};function Qe(n){var t,o=n.getItemOffset,r=n.getEstimatedTotalSize,u=n.getItemSize,S=n.getOffsetForIndexAndAlignment,y=n.getStartIndexForOffset,b=n.getStopIndexForStartIndex,C=n.initInstanceProps,O=n.shouldResetStyleCacheOnItemSizeChange,D=n.validateProps;return t=function(M){be(L,M);function L(v){var e;return e=M.call(this,v)||this,e._instanceProps=C(e.props,ae(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:ae(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=ee(function(i,a,l,h){return e.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:a,visibleStartIndex:l,visibleStopIndex:h})}),e._callOnScroll=void 0,e._callOnScroll=ee(function(i,a,l){return e.props.onScroll({scrollDirection:i,scrollOffset:a,scrollUpdateWasRequested:l})}),e._getItemStyle=void 0,e._getItemStyle=function(i){var a=e.props,l=a.direction,h=a.itemSize,m=a.layout,c=e._getItemStyleCache(O&&h,O&&m,O&&l),g;if(c.hasOwnProperty(i))g=c[i];else{var s=o(e.props,i,e._instanceProps),d=u(e.props,i,e._instanceProps),R=l==="horizontal"||m==="horizontal",x=l==="rtl",z=R?s:0;c[i]=g={position:"absolute",left:x?void 0:z,right:x?z:void 0,top:R?0:s,height:R?"100%":d,width:R?d:"100%"}}return g},e._getItemStyleCache=void 0,e._getItemStyleCache=ee(function(i,a,l){return{}}),e._onScrollHorizontal=function(i){var a=i.currentTarget,l=a.clientWidth,h=a.scrollLeft,m=a.scrollWidth;e.setState(function(c){if(c.scrollOffset===h)return null;var g=e.props.direction,s=h;if(g==="rtl")switch(me()){case"negative":s=-h;break;case"positive-descending":s=m-l-h;break}return s=Math.max(0,Math.min(s,m-l)),{isScrolling:!0,scrollDirection:c.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(i){var a=i.currentTarget,l=a.clientHeight,h=a.scrollHeight,m=a.scrollTop;e.setState(function(c){if(c.scrollOffset===m)return null;var g=Math.max(0,Math.min(m,h-l));return{isScrolling:!0,scrollDirection:c.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(i){var a=e.props.outerRef;e._outerRef=i,typeof a=="function"?a(i):a!=null&&typeof a=="object"&&a.hasOwnProperty("current")&&(a.current=i)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&ue(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=Ve(e._resetIsScrolling,Ge)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}L.getDerivedStateFromProps=function(e,i){return Je(e,i),D(e),null};var _=L.prototype;return _.scrollTo=function(e){e=Math.max(0,e),this.setState(function(i){return i.scrollOffset===e?null:{scrollDirection:i.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},_.scrollToItem=function(e,i){i===void 0&&(i="auto");var a=this.props,l=a.itemCount,h=a.layout,m=this.state.scrollOffset;e=Math.max(0,Math.min(e,l-1));var c=0;if(this._outerRef){var g=this._outerRef;h==="vertical"?c=g.scrollWidth>g.clientWidth?he():0:c=g.scrollHeight>g.clientHeight?he():0}this.scrollTo(S(this.props,e,i,m,this._instanceProps,c))},_.componentDidMount=function(){var e=this.props,i=e.direction,a=e.initialScrollOffset,l=e.layout;if(typeof a=="number"&&this._outerRef!=null){var h=this._outerRef;i==="horizontal"||l==="horizontal"?h.scrollLeft=a:h.scrollTop=a}this._callPropsCallbacks()},_.componentDidUpdate=function(){var e=this.props,i=e.direction,a=e.layout,l=this.state,h=l.scrollOffset,m=l.scrollUpdateWasRequested;if(m&&this._outerRef!=null){var c=this._outerRef;if(i==="horizontal"||a==="horizontal")if(i==="rtl")switch(me()){case"negative":c.scrollLeft=-h;break;case"positive-ascending":c.scrollLeft=h;break;default:var g=c.clientWidth,s=c.scrollWidth;c.scrollLeft=s-g-h;break}else c.scrollLeft=h;else c.scrollTop=h}this._callPropsCallbacks()},_.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ue(this._resetIsScrollingTimeoutId)},_.render=function(){var e=this.props,i=e.children,a=e.className,l=e.direction,h=e.height,m=e.innerRef,c=e.innerElementType,g=e.innerTagName,s=e.itemCount,d=e.itemData,R=e.itemKey,x=R===void 0?Ye:R,z=e.layout,j=e.outerElementType,k=e.outerTagName,I=e.style,w=e.useIsScrolling,$=e.width,f=this.state.isScrolling,F=l==="horizontal"||z==="horizontal",N=F?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),P=A[0],H=A[1],G=[];if(s>0)for(var q=P;q<=H;q++)G.push(T.createElement(i,{data:d,key:x(q,d),index:q,isScrolling:w?f:void 0,style:this._getItemStyle(q)}));var ie=r(this.props,this._instanceProps);return T.createElement(j||k||"div",{className:a,onScroll:N,ref:this._outerRefSetter,style:_e({position:"relative",height:h,width:$,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:l},I)},T.createElement(c||g||"div",{children:G,ref:m,style:{height:F?"100%":ie,pointerEvents:f?"none":void 0,width:F?ie:"100%"}}))},_._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var i=this._getRangeToRender(),a=i[0],l=i[1],h=i[2],m=i[3];this._callOnItemsRendered(a,l,h,m)}}if(typeof this.props.onScroll=="function"){var c=this.state,g=c.scrollDirection,s=c.scrollOffset,d=c.scrollUpdateWasRequested;this._callOnScroll(g,s,d)}},_._getRangeToRender=function(){var e=this.props,i=e.itemCount,a=e.overscanCount,l=this.state,h=l.isScrolling,m=l.scrollDirection,c=l.scrollOffset;if(i===0)return[0,0,0,0];var g=y(this.props,c,this._instanceProps),s=b(this.props,g,c,this._instanceProps),d=!h||m==="backward"?Math.max(1,a):1,R=!h||m==="forward"?Math.max(1,a):1;return[Math.max(0,g-d),Math.max(0,Math.min(i-1,s+R)),g,s]},L}(T.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Je=function(t,o){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,o.instance},Ze=Qe({getItemOffset:function(t,o){var r=t.itemSize;return o*r},getItemSize:function(t,o){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var o=t.itemCount,r=t.itemSize;return r*o},getOffsetForIndexAndAlignment:function(t,o,r,u,S,y){var b=t.direction,C=t.height,O=t.itemCount,D=t.itemSize,M=t.layout,L=t.width,_=b==="horizontal"||M==="horizontal",v=_?L:C,e=Math.max(0,O*D-v),i=Math.min(e,o*D),a=Math.max(0,o*D-v+D+y);switch(r==="smart"&&(u>=a-v&&u<=i+v?r="auto":r="center"),r){case"start":return i;case"end":return a;case"center":{var l=Math.round(a+(i-a)/2);return l<Math.ceil(v/2)?0:l>e+Math.floor(v/2)?e:l}case"auto":default:return u>=a&&u<=i?u:u<a?a:i}},getStartIndexForOffset:function(t,o){var r=t.itemCount,u=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(o/u)))},getStopIndexForStartIndex:function(t,o,r){var u=t.direction,S=t.height,y=t.itemCount,b=t.itemSize,C=t.layout,O=t.width,D=u==="horizontal"||C==="horizontal",M=o*b,L=D?O:S,_=Math.ceil((L+r-M)/b);return Math.max(0,Math.min(y-1,o+_-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const[gt,Xe]=Re("ComponentContext",{id:void 0,level:-1,uid:void 0,type:void 0});function Se(n,t){const o=X(n),r=ne(t,y=>y.removeFieldRow),u=ne(t,y=>y.addFieldRow);return y=>{if(o.value&&o.value.connect){const b=o.value.connect.findIndex(C=>C.id===y.id);if(b>=0){r(`${n}.connect`,b);return}}u(`${n}.disconnect`,{id:y.id,apiData:{id:y.id,documentId:y.documentId,locale:y.locale}})}}const B=5,ye=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"],et=T.forwardRef(({disabled:n,label:t,...o},r)=>{const[u,S]=T.useState(1),{document:y,model:b}=xe(),C=y?.documentId,{formatMessage:O}=Z(),[{query:D}]=fe(),M=pe(D),_=o.attribute.relation.toLowerCase().includes("morph")||n,{componentId:v,componentUID:e}=Xe("RelationsField",({uid:f,id:F})=>({componentId:F,componentUID:f})),i=ne("RelationsList",f=>f.isSubmitting);T.useEffect(()=>{S(1)},[i]);const a=v?v.toString():C,l=e??b,[h]=o.name.split(".").slice(-1),{data:m,isLoading:c,isFetching:g}=We({model:l,targetField:h,id:a,params:{...M,pageSize:B,page:u}},{refetchOnMountOrArgChange:!0,skip:!a,selectFromResult:f=>({...f,data:{...f.data,results:f.data?.results?f.data.results:[]}})}),s=()=>{S(f=>f+1)},d=X(o.name),R=c||g,x="pagination"in m&&m.pagination?m.pagination.total:0,z=(d.value?.connect??[]).filter(f=>m.results.findIndex(F=>F.id===f.id)===-1).length??0,j=d.value?.disconnect?.length??0,k=x+z-j,I=T.useMemo(()=>{const f={field:d.value,href:`../${se}/${o.attribute.targetModel}`,mainField:o.mainField};return[...Ce(nt(f),ot(f),it(f))([...m.results]),...d.value?.connect??[]].sort((A,P)=>A.__temp_key__<P.__temp_key__?-1:A.__temp_key__>P.__temp_key__?1:0)},[m.results,d.value,o.attribute.targetModel,o.mainField]),w=Se(o.name,"RelationsField"),$=f=>{const[F]=I.slice(-1),N={id:f.id,apiData:{id:f.id,documentId:f.documentId,locale:f.locale},status:f.status,__temp_key__:Ie(F?.__temp_key__??null,null,1)[0],[o.mainField?.name??"documentId"]:f[o.mainField?.name??"documentId"],label:oe(f,o.mainField),href:`../${se}/${o.attribute.targetModel}/${f.documentId}?${f.locale?`plugins[i18n][locale]=${f.locale}`:""}`};ye.includes(o.attribute.relation)?(d.value?.connect?.forEach(w),I.forEach(w),d.onChange(`${o.name}.connect`,[N])):d.onChange(`${o.name}.connect`,[...d.value?.connect??[],N])};return p.jsxs(U,{ref:r,direction:"column",gap:3,justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",children:[p.jsxs(tt,{direction:"column",alignItems:"start",gap:2,width:"100%",children:[p.jsx(at,{disabled:_,id:e?v?`${v}`:"":C,label:`${t} ${k>0?`(${k})`:""}`,model:l,onChange:$,...o}),"pagination"in m&&m.pagination&&m.pagination.pageCount>m.pagination.page?p.jsx(Te,{disabled:R,onClick:s,loading:R,startIcon:p.jsx(we,{}),shrink:0,children:O({id:E("relation.loadMore"),defaultMessage:"Load More"})}):null]}),p.jsx(st,{data:I,serverData:m.results,disabled:_,name:o.name,isLoading:R,relationType:o.attribute.relation})]})}),tt=V(U)`
  & > div {
    width: 100%;
  }
`,nt=({field:n})=>t=>t.filter(o=>(n?.connect??[]).findIndex(u=>u.id===o.id)===-1),ot=({field:n})=>t=>t.filter(o=>(n?.disconnect??[]).findIndex(u=>u.id===o.id)===-1),it=({mainField:n,href:t})=>o=>o.map(r=>({...r,[n?.name??"documentId"]:r[n?.name??"documentId"],label:oe(r,n),href:`${t}/${r.documentId}?${r.locale?`plugins[i18n][locale]=${r.locale}`:""}`})),at=({hint:n,id:t,model:o,label:r,labelAction:u,name:S,mainField:y,placeholder:b,required:C,unique:O,"aria-label":D,onChange:M,...L})=>{const[_,v]=T.useState(""),[e,i]=T.useState({_q:"",page:1}),{toggleNotification:a}=Me(),[{query:l}]=fe(),{formatMessage:h}=Z(),m=Oe(S),c=X(S),[g,{data:s,isLoading:d}]=Ue();T.useEffect(()=>{const[I]=S.split(".").slice(-1);g({model:o,targetField:I,params:{...pe(l),id:t??"",pageSize:10,idsToInclude:c.value?.disconnect?.map(w=>w.id.toString())??[],idsToOmit:c.value?.connect?.map(w=>w.id.toString())??[],...e}})},[c.value?.connect,c.value?.disconnect,t,o,S,l,g,e]);const R=async I=>{i(w=>({...w,_q:I,page:1}))},x=s?.pagination?s.pagination.page<s.pagination.pageCount:!1,z=s?.results??[],j=I=>{if(!I)return;const w=z.find($=>$.id.toString()===I);if(!w){console.error("You've tried to add a relation with an id that does not exist in the options you can see, this is likely a bug with Strapi. Please open an issue."),a({message:h({id:E("relation.error-adding-relation"),defaultMessage:"An error occurred while trying to add the relation."}),type:"danger"});return}M(w)},k=()=>{!s||!s.pagination||s.pagination.page<s.pagination.pageCount&&i(I=>({...I,page:I.page+1}))};return T.useLayoutEffect(()=>{v("")},[c.value]),p.jsxs(Y.Root,{error:c.error,hint:n,name:S,required:C,children:[p.jsx(Y.Label,{action:u,children:r}),p.jsx(Le,{ref:m,name:S,autocomplete:"list",placeholder:b||h({id:E("relation.add"),defaultMessage:"Add relation"}),hasMoreItems:x,loading:d,onOpenChange:()=>{R(_??"")},noOptionsMessage:()=>h({id:E("relation.notAvailable"),defaultMessage:"No relations available"}),loadingMessage:h({id:E("relation.isLoading"),defaultMessage:"Relations are loading"}),onLoadMore:k,textValue:_,onChange:j,onTextValueChange:I=>{v(I)},onInputChange:I=>{R(I.currentTarget.value)},...L,children:z.map(I=>{const w=oe(I,y);return p.jsx(De,{value:I.id.toString(),textValue:w,children:p.jsxs(U,{gap:2,justifyContent:"space-between",children:[p.jsx(ge,{ellipsis:!0,children:w}),I.status?p.jsx(ve,{status:I.status}):null]})},I.id)})}),p.jsx(Y.Error,{}),p.jsx(Y.Hint,{})]})},Q=50,J=4,st=({data:n,serverData:t,disabled:o,name:r,isLoading:u,relationType:S})=>{const y=T.useId(),{formatMessage:b}=Z(),C=T.useRef(null),O=T.useRef(null),[D,M]=T.useState(),[L,_]=T.useState(""),v=X(r);T.useEffect(()=>{if(n.length<=B)return M(void 0);const s=R=>{const x=R.target,z=x.parentNode.scrollHeight,j=x.scrollHeight-x.scrollTop;return x.scrollTop===0?M("bottom"):M(j===z?"top":"top-bottom")},d=O?.current;return!u&&n.length>0&&d&&O.current.addEventListener("scroll",s),()=>{d&&d.removeEventListener("scroll",s)}},[u,n.length]);const e=s=>`${s+1} of ${n.length}`,i=(s,d)=>{const R=n[d];_(b({id:E("dnd.reorder"),defaultMessage:"{item}, moved. New position in list: {position}."},{item:R.label??R.documentId,position:e(s)}));const x=[...n],z=n[d],j=d>s?x[s-1]?.__temp_key__:x[s]?.__temp_key__,k=d>s?x[s]?.__temp_key__:x[s+1]?.__temp_key__,[I]=Ie(j,k,1);x.splice(d,1),x.splice(s,0,{...z,__temp_key__:I});const w=x.reduce(($,f,F,N)=>{const A=t.find(H=>H.id===f.id),P=N[F+1];if(!A||A.__temp_key__!==f.__temp_key__){const H=P?{before:P.documentId,locale:P.locale,status:"publishedAt"in P&&P.publishedAt?"published":"draft"}:{end:!0},G={...f,apiData:{id:f.id,documentId:f.documentId,locale:f.locale,position:H}};return[...$,G]}return $},[]).toReversed();v.onChange(`${r}.connect`,w)},a=s=>{const d=n[s];_(b({id:E("dnd.grab-item"),defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:d.label??d.documentId,position:e(s)}))},l=s=>{const{href:d,label:R,...x}=n[s];_(b({id:E("dnd.drop-item"),defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:R??x.documentId,position:e(s)}))},h=s=>{const d=n[s];_(b({id:E("dnd.cancel-item"),defaultMessage:"{item}, dropped. Re-order cancelled."},{item:d.label??d.documentId}))},m=Se(r,"RelationsList"),c=!ye.includes(S),g=n.length>B?Math.min(n.length,B)*(Q+J)+Q/2:Math.min(n.length,B)*(Q+J);return p.jsxs(rt,{$overflowDirection:D,children:[p.jsx(re,{id:y,children:b({id:E("dnd.instructions"),defaultMessage:"Press spacebar to grab and re-order"})}),p.jsx(re,{"aria-live":"assertive",children:L}),p.jsx(Ze,{height:g,ref:C,outerRef:O,itemCount:n.length,itemSize:Q+J,itemData:{ariaDescribedBy:y,canDrag:c,disabled:o,handleCancel:h,handleDropItem:l,handleGrabItem:a,handleMoveItem:i,name:r,handleDisconnect:m,relations:n},itemKey:s=>n[s].id,innerElementType:"ol",children:lt})]})},rt=V(K)`
  position: relative;
  overflow: hidden;
  flex: 1;

  &:before,
  &:after {
    position: absolute;
    width: 100%;
    height: 4px;
    z-index: 1;
  }

  &:before {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    top: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="top"?1:0};
    transition: opacity 0.2s ease-in-out;
  }

  &:after {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(0deg, rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    bottom: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="bottom"?1:0};
    transition: opacity 0.2s ease-in-out;
  }
`,lt=({data:n,index:t,style:o})=>{const{ariaDescribedBy:r,canDrag:u=!1,disabled:S=!1,handleCancel:y,handleDisconnect:b,handleDropItem:C,handleGrabItem:O,handleMoveItem:D,name:M,relations:L}=n,{formatMessage:_}=Z(),{href:v,id:e,label:i,status:a}=L[t],[{handlerId:l,isDragging:h,handleKeyDown:m},c,g,s,d]=$e(u&&!S,{type:`${Ae.RELATION}_${M}`,index:t,item:{displayedValue:i,status:a,id:e,index:t},onMoveItem:D,onDropItem:C,onGrabItem:O,onCancel:y,dropSensitivity:Ne.REGULAR}),R=ze(c,s);return T.useEffect(()=>{d(He())},[d]),p.jsx(K,{style:o,tag:"li",ref:g,"aria-describedby":r,cursor:u?"all-scroll":"default",children:h?p.jsx(ut,{}):p.jsxs(U,{paddingTop:2,paddingBottom:2,paddingLeft:u?2:4,paddingRight:4,hasRadius:!0,borderColor:"neutral200",background:S?"neutral150":"neutral0",justifyContent:"space-between",ref:R,"data-handler-id":l,children:[p.jsxs(ct,{gap:1,children:[u?p.jsx(le,{tag:"div",role:"button",tabIndex:0,withTooltip:!1,label:_({id:E("components.RelationInput.icon-button-aria-label"),defaultMessage:"Drag"}),variant:"ghost",onKeyDown:m,disabled:S,children:p.jsx(Fe,{})}):null,p.jsxs(U,{width:"100%",minWidth:0,justifyContent:"space-between",children:[p.jsx(K,{minWidth:0,paddingTop:1,paddingBottom:1,paddingRight:4,children:p.jsx(Ee,{description:i,children:v?p.jsx(dt,{tag:Pe,to:v,isExternal:!1,children:i}):p.jsx(ge,{textColor:S?"neutral600":"primary600",ellipsis:!0,children:i})})}),a?p.jsx(ve,{status:a}):null]})]}),p.jsx(K,{paddingLeft:4,children:p.jsx(le,{onClick:()=>b(L[t]),disabled:S,label:_({id:E("relation.disconnect"),defaultMessage:"Remove"}),variant:"ghost",size:"S",children:p.jsx(je,{})})})]})})},ct=V(U)`
  width: 100%;
  /* Used to prevent endAction to be pushed out of container */
  min-width: 0;

  & > div[role='button'] {
    cursor: all-scroll;
  }
`,vt=V.button`
  svg path {
    fill: ${({theme:n,disabled:t})=>t?n.colors.neutral600:n.colors.neutral500};
  }

  &:hover svg path,
  &:focus svg path {
    fill: ${({theme:n,disabled:t})=>!t&&n.colors.neutral600};
  }
`,dt=V(ke)`
  display: block;

  & > span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
  }
`,ut=()=>p.jsx(K,{paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,hasRadius:!0,borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",background:"primary100",height:`calc(100% - ${J}px)`}),It=T.memo(et);export{gt as C,vt as D,ct as F,dt as L,It as M,Xe as u};
